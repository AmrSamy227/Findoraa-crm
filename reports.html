<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Financial Reports - FINDORA</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="CSS/styles.css" />
    <link rel="stylesheet" href="CSS/reports.css" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="container nav-grid">
        <a
          class="nav-left mobile-bell position-relative"
          href="notifications.html"
          title="Notifications"
        >
          <i class="fas fa-bell"></i>
          <span
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger notification-counter"
            style="display: none; font-size: 0.65rem"
            >0</span
          >
        </a>

        <a class="navbar-brand nav-center" href="index.html">FINDORA</a>

        <button
          class="navbar-toggler nav-right"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navContent"
        >
          â˜°
        </button>
        <div class="collapse navbar-collapse" id="navContent">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a
                class="nav-link"
                href="hr-dashboard.html"
                data-page="hr-dashboard.html"
                >HR</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                href="reports.html"
                data-page="reports.html"
                >Reports</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="calendar.html" data-page="calendar.html"
                >Calendar</a
              >
            </li>
            <li class="nav-item ms-lg-3 desktop-bell">
              <a
                class="nav-link position-relative"
                href="notifications.html"
                title="Notifications"
              >
                <i class="fas fa-bell"></i>
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger notification-counter"
                  style="display: none; font-size: 0.65rem"
                  >0</span
                >
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container py-5" id="content">
      <div class="report-toolbar mb-4">
        <div>
          <h1 class="page-title mb-1">Financial Reports</h1>
          <div class="muted small">
            Live insights from your projects and agents.
          </div>
        </div>

        <div class="toolbar-actions">
          <select id="projectScope" class="form-select form-select-sm">
            <option value="all" selected>All Projects</option>
          </select>

          <select id="periodScope" class="form-select form-select-sm">
            <option value="all" selected>All Time</option>
            <option value="30">Last 30 Days</option>
            <option value="90">Last 90 Days</option>
          </select>

          <button class="btn btn-primary btn-sm export-btn" id="exportBtn">
            <i class="fas fa-file-pdf me-2"></i>Export / Print
          </button>
        </div>
      </div>

      <section class="kpi-grid mb-5">
        <div class="kpi-card">
          <div class="kpi-label">Total Projects</div>
          <div class="kpi-value" id="totalProjects">0</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Total Units</div>
          <div class="kpi-value" id="totalUnits">0</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Units Sold</div>
          <div class="kpi-value positive" id="unitsSold">0</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Available Units</div>
          <div class="kpi-value" id="unitsAvailable">0</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Pending Deals</div>
          <div class="kpi-value warning" id="unitsPending">0</div>
        </div>
        <div class="kpi-card revenue">
          <div class="kpi-label">Total Revenue</div>
          <div class="kpi-value positive" id="totalRevenue">EGP 0</div>
        </div>
      </section>

      <section class="mb-5">
        <div class="section-head">
          <h2 class="section-title">Project Summary</h2>
          <div class="small muted" id="projectSummaryHint"></div>
        </div>
        <div class="table-card">
          <div class="table-responsive">
            <table class="table table-dark table-hover align-middle mb-0">
              <thead>
                <tr>
                  <th>Project Name</th>
                  <th>Location</th>
                  <th class="text-end">Total Units</th>
                  <th class="text-end">Sold</th>
                  <th class="text-end">Available</th>
                  <th class="text-end">Pending</th>
                </tr>
              </thead>
              <tbody id="projectsTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="mb-5">
        <div class="section-head">
          <h2 class="section-title">Agent Performance</h2>
          <div class="small muted">
            Synced with HR dashboard deals & revenue.
          </div>
        </div>
        <div class="table-card">
          <div class="table-responsive">
            <table class="table table-dark table-hover align-middle mb-0">
              <thead>
                <tr>
                  <th>Agent Name</th>
                  <th>Status</th>
                  <th class="text-end">Deals Closed</th>
                  <th class="text-end">Commission %</th>
                  <th class="text-end">Estimated Commission</th>
                </tr>
              </thead>
              <tbody id="agentsTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="mb-2">
        <div class="section-head">
          <h2 class="section-title">Unit Status Breakdown</h2>
          <div class="small muted" id="unitsBreakdownHint"></div>
        </div>
        <div class="table-card">
          <div class="table-responsive">
            <table class="table table-dark table-hover align-middle mb-0">
              <thead>
                <tr>
                  <th>Project</th>
                  <th>Unit</th>
                  <th>Type</th>
                  <th class="text-end">Price</th>
                  <th>Status</th>
                  <th>Payment</th>
                </tr>
              </thead>
              <tbody id="unitsTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JS/auth-utils.js"></script>
    <script src="JS/reports.js"></script>
  </body>
</html>
